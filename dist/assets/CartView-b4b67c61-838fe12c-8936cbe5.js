import{e as y}from"./arrow-left-d6e3285d-3ee3d9c2-7e56a384.js";import{S as C,D as t,k,p as v,j as L,g as S,n as R,y as c,a as o,J as U,v as _,P as f,A as I,X as p,C as h,E as b,Z as x,t as D}from"./index-6c0e8a50.js";const J=""+new URL(""+new URL(""+new URL("plus-fc348860-fc348860-fc348860.svg",import.meta.url).href,self.location).href,self.location).href,N=""+new URL(""+new URL(""+new URL("minus-b6b118a1-b6b118a1-b6b118a1.svg",import.meta.url).href,self.location).href,self.location).href,w=e=>(x("data-v-42a0e133"),e=e(),D(),e),T={class:"cart-item"},W=["src","alt"],j={class:"cart-title"},A={class:"cart-price"},E={class:"cart-count"},O=w(()=>t("img",{src:J},null,-1)),P=[O],X={class:"count"},Z=w(()=>t("img",{src:N},null,-1)),$=[Z],B={__name:"CartItem",props:["product","updateCardList"],emits:["updateCardList"],setup(e,{emit:r}){const n=e,i=()=>JSON.parse(localStorage.getItem("cart"))||[],m=l=>{localStorage.setItem("cart",JSON.stringify(l.filter(a=>!a.count<=0))),r("updateCardList")},u=l=>{let a=i().map(s=>(s.id===n.product.id&&(l==="increment"&&s.count++,l==="decrement"&&s.count--),s));m(a)};return(l,a)=>(c(),o("div",T,[t("img",{class:"cart-image",src:e.product.image,alt:e.product.title},null,8,W),t("h3",j,p(e.product.title),1),t("div",A,[t("strong",null,p(e.product.price)+" $",1)]),t("div",E,[t("button",{class:"cart-icon",onClick:a[0]||(a[0]=s=>u("increment"))},P),t("span",X,p(e.product.count),1),t("button",{class:"cart-icon",onClick:a[1]||(a[1]=s=>u("decrement"))},$)])]))}},F=C(B,[["__scopeId","data-v-42a0e133"]]),V={},q=t("div",{class:"modal-container"},"{}",-1),z=t("div",{class:"modal-window"},[t("div",{class:"modalWindow-content"},[t("div",{class:"modalWindow-text"},[k(" We have successfully received your order! "),t("br"),t("br"),t("span",null," Redirecting to homepage... ")])])],-1),G=[q,z];function H(e,r){return c(),o("div",null,G)}const K=C(V,[["render",H]]),M={class:"cart-page"},Q=t("img",{src:y,alt:""},null,-1),Y=t("span",null,"Back to homepage",-1),tt=t("h1",{class:"title"},"Cart",-1),et={key:0,class:"cart-list"},at={key:1},st=t("h3",null," There is nothing to show",-1),ct=[st],lt={key:2,class:"total-area"},ot=t("span",{class:"total-text"},"Total:",-1),it={__name:"CartView",setup(e){const r=v([]),n=v(null),i=v(!1),m=L(),u=()=>{let a=JSON.parse(localStorage.getItem("cart"))||[];r.value=a,n.value=a.reduce((s,d)=>s+d.price*d.count,0).toFixed(2)};u();const l=()=>{i.value=!0,setTimeout(()=>{localStorage.clear(),m.push("/")},3e3)};return S(()=>{i.value=!1}),(a,s)=>{const d=R("RouterLink");return c(),o(f,null,[t("div",M,[U(d,{to:"/",class:"top-nav"},{default:_(()=>[Q,Y]),_:1}),tt,r.value.length?(c(),o("section",et,[(c(!0),o(f,null,I(r.value,g=>(c(),b(F,{onUpdateCardList:u,class:"card-item",product:g,key:g.id},null,8,["product"]))),128))])):(c(),o("section",at,ct)),n.value>0?(c(),o("section",lt,[t("h4",null,[ot,k(" "+p(n.value)+" $",1)]),t("button",{onClick:l,class:"buy-button"},"Chechout")])):h("",!0)]),i.value?(c(),b(K,{key:0})):h("",!0)],64)}}};export{it as default};
//# sourceMappingURL=CartView-b4b67c61-838fe12c-8936cbe5.js.map
