import{r as k}from"./arrow-left-d6e3285d-3ee3d9c2.js";import{P as b,U as t,x as w,d as v,O as L,g as U,Z as S,v as l,K as r,a as _,y as x,T as h,C as J,V as p,w as f,b as C,J as O,X as R}from"./index-c6125cfe.js";const T=""+new URL(""+new URL("plus-fc348860-fc348860.svg",import.meta.url).href,self.location).href,I=""+new URL(""+new URL("minus-b6b118a1-b6b118a1.svg",import.meta.url).href,self.location).href,y=a=>(O("data-v-42a0e133"),a=a(),R(),a),V={class:"cart-item"},W=["src","alt"],Z={class:"cart-title"},K={class:"cart-price"},N={class:"cart-count"},P=y(()=>t("img",{src:T},null,-1)),X=[P],$={class:"count"},B=y(()=>t("img",{src:I},null,-1)),F=[B],j={__name:"CartItem",props:["product","updateCardList"],emits:["updateCardList"],setup(a,{emit:o}){const n=a,i=()=>JSON.parse(localStorage.getItem("cart"))||[],m=c=>{localStorage.setItem("cart",JSON.stringify(c.filter(e=>!e.count<=0))),o("updateCardList")},u=c=>{let e=i().map(s=>(s.id===n.product.id&&(c==="increment"&&s.count++,c==="decrement"&&s.count--),s));m(e)};return(c,e)=>(l(),r("div",V,[t("img",{class:"cart-image",src:a.product.image,alt:a.product.title},null,8,W),t("h3",Z,p(a.product.title),1),t("div",K,[t("strong",null,p(a.product.price)+" $",1)]),t("div",N,[t("button",{class:"cart-icon",onClick:e[0]||(e[0]=s=>u("increment"))},X),t("span",$,p(a.product.count),1),t("button",{class:"cart-icon",onClick:e[1]||(e[1]=s=>u("decrement"))},F)])]))}},q=b(j,[["__scopeId","data-v-42a0e133"]]),z={},A=t("div",{class:"modal-container"},"{}",-1),D=t("div",{class:"modal-window"},[t("div",{class:"modalWindow-content"},[t("div",{class:"modalWindow-text"},[w(" We have successfully received your order! "),t("br"),t("br"),t("span",null," Redirecting to homepage... ")])])],-1),E=[A,D];function G(a,o){return l(),r("div",null,E)}const H=b(z,[["render",G]]),M={class:"cart-page"},Q=t("img",{src:k,alt:""},null,-1),Y=t("span",null,"Back to homepage",-1),tt=t("h1",{class:"title"},"Cart",-1),at={key:0,class:"cart-list"},et={key:1},st=t("h3",null," There is nothing to show",-1),lt=[st],ct={key:2,class:"total-area"},rt=t("span",{class:"total-text"},"Total:",-1),it={__name:"CartView",setup(a){const o=v([]),n=v(null),i=v(!1),m=L(),u=()=>{let e=JSON.parse(localStorage.getItem("cart"))||[];o.value=e,n.value=e.reduce((s,d)=>s+d.price*d.count,0).toFixed(2)};u();const c=()=>{i.value=!0,setTimeout(()=>{localStorage.clear(),m.push("/")},3e3)};return U(()=>{i.value=!1}),(e,s)=>{const d=S("RouterLink");return l(),r(h,null,[t("div",M,[_(d,{to:"/",class:"top-nav"},{default:x(()=>[Q,Y]),_:1}),tt,o.value.length?(l(),r("section",at,[(l(!0),r(h,null,J(o.value,g=>(l(),C(q,{onUpdateCardList:u,class:"card-item",product:g,key:g.id},null,8,["product"]))),128))])):(l(),r("section",et,lt)),n.value>0?(l(),r("section",ct,[t("h4",null,[rt,w(" "+p(n.value)+" $",1)]),t("button",{onClick:c,class:"buy-button"},"Chechout")])):f("",!0)]),i.value?(l(),C(H,{key:0})):f("",!0)],64)}}};export{it as default};
//# sourceMappingURL=CartView-b4b67c61-838fe12c.js.map
