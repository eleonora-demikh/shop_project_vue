import{_ as k}from"./arrow-left-2ea35471.js";import{_ as C,o as a,c as n,a as t,t as u,p as I,g as x,b as $,r as m,h as b,i as S,d as w,e as L,w as N,F as v,f as V,j as g,k as f}from"./index-63b917f2.js";const B="/shop_project_vue/assets/plus-fc348860.svg",M="/shop_project_vue/assets/minus-b6b118a1.svg";const y=e=>(I("data-v-42a0e133"),e=e(),x(),e),R={class:"cart-item"},T=["src","alt"],j={class:"cart-title"},F={class:"cart-price"},J={class:"cart-count"},O=y(()=>t("img",{src:B},null,-1)),W=[O],U={class:"count"},D=y(()=>t("img",{src:M},null,-1)),E=[D],P={__name:"CartItem",props:["product","updateCardList"],emits:["updateCardList"],setup(e,{emit:r}){const l=e,i=()=>JSON.parse(localStorage.getItem("cart"))||[],p=c=>{localStorage.setItem("cart",JSON.stringify(c.filter(s=>!s.count<=0))),r("updateCardList")},d=c=>{let s=i().map(o=>(o.id===l.product.id&&(c==="increment"&&o.count++,c==="decrement"&&o.count--),o));p(s)};return(c,s)=>(a(),n("div",R,[t("img",{class:"cart-image",src:e.product.image,alt:e.product.title},null,8,T),t("h3",j,u(e.product.title),1),t("div",F,[t("strong",null,u(e.product.price)+" $",1)]),t("div",J,[t("button",{class:"cart-icon",onClick:s[0]||(s[0]=o=>d("increment"))},W),t("span",U,u(e.product.count),1),t("button",{class:"cart-icon",onClick:s[1]||(s[1]=o=>d("decrement"))},E)])]))}},Q=C(P,[["__scopeId","data-v-42a0e133"]]);const q={},z=t("div",{class:"modal-container"},"{}",-1),A=t("div",{class:"modal-window"},[t("div",{class:"modalWindow-content"},[t("div",{class:"modalWindow-text"},[$(" We have successfully received your order! "),t("br"),t("br"),t("span",null," Redirecting to homepage... ")])])],-1),G=[z,A];function H(e,r){return a(),n("div",null,G)}const K=C(q,[["render",H]]);const X={class:"cart-page"},Y=t("img",{src:k,alt:""},null,-1),Z=t("span",null,"Back to homepage",-1),tt=t("h1",{class:"title"},"Cart",-1),et={key:0,class:"cart-list"},st={key:1},ot=t("h3",null," There is nothing to show",-1),at=[ot],ct={key:2,class:"total-area"},nt=t("span",{class:"total-text"},"Total:",-1),it={__name:"CartView",setup(e){const r=m([]),l=m(null),i=m(!1),p=b(),d=()=>{let s=JSON.parse(localStorage.getItem("cart"))||[];r.value=s,l.value=s.reduce((o,_)=>o+_.price*_.count,0).toFixed(2)};d();const c=()=>{i.value=!0,setTimeout(()=>{localStorage.clear(),p.push("/")},3e3)};return S(()=>{i.value=!1}),(s,o)=>{const _=w("RouterLink");return a(),n(v,null,[t("div",X,[L(_,{to:"/",class:"top-nav"},{default:N(()=>[Y,Z]),_:1}),tt,r.value.length?(a(),n("section",et,[(a(!0),n(v,null,V(r.value,h=>(a(),f(Q,{onUpdateCardList:d,class:"card-item",product:h,key:h.id},null,8,["product"]))),128))])):(a(),n("section",st,at)),l.value>0?(a(),n("section",ct,[t("h4",null,[nt,$(" "+u(l.value)+" $",1)]),t("button",{onClick:c,class:"buy-button"},"Chechout")])):g("",!0)]),i.value?(a(),f(K,{key:0})):g("",!0)],64)}}};export{it as default};
//# sourceMappingURL=CartView-a0cc9e9a.js.map
