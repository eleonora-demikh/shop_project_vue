{"version":3,"file":"CartView-b4b67c61.js","sources":["../../src/assets/icons/plus.svg","../../src/assets/icons/minus.svg","../../src/components/CartItem.vue","../../src/components/Modal.vue","../../src/views/CartView.vue"],"sourcesContent":["export default \"__VITE_ASSET__ce36306f__\"","export default \"__VITE_ASSET__bdb1f41d__\"","<script setup>\n\nconst props = defineProps(['product', 'updateCardList'])\nconst emit = defineEmits(['updateCardList'])\n\nconst getCardItems = () => JSON.parse(localStorage.getItem('cart')) || []\n\nconst updateCard = data => {\n  localStorage.setItem('cart', JSON.stringify(data.filter((item) => !item.count <= 0)));\n  emit('updateCardList');\n}\nconst changeItemQuantity = (type) => {\n  let updatedCartItems = getCardItems().map((item) => {\n    if (item.id === props.product.id) {\n      if (type === 'increment') {\n        item.count++\n      }\n      if (type === 'decrement') {\n        item.count--\n      }\n    }\n    return item\n  })\n  updateCard(updatedCartItems)\n}\n</script>\n<template>\n  <div class=\"cart-item\">\n    <img\n      class=\"cart-image\"\n      :src=\"product.image\"\n      :alt=\"product.title\"\n    >\n    <h3 class=\"cart-title\">{{ product.title }}</h3>\n    <div class=\"cart-price\"><strong>{{ product.price }} $</strong></div>\n\n    <div class=\"cart-count\">\n      <button\n        class=\"cart-icon\"\n        @click=\"changeItemQuantity('increment')\"\n      >\n        <img src=\"../assets/icons/plus.svg\" />\n      </button>\n      <span class=\"count\">{{ product.count }}</span>\n      <button\n        class=\"cart-icon\"\n        @click=\"changeItemQuantity('decrement')\"\n      >\n        <img src=\"../assets/icons/minus.svg\" />\n      </button>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.cart-item {\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  height: 112px;\n  width: 100%;\n  max-width: 600px;\n  padding: 18px;\n  border: 1px solid rgba(64, 64, 64, 0.1);\n  box-shadow: 0 5px 10px rgba(154, 161, 177, .1);\n}\n\n.cart-price {\n  font-size: 0.9rem;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n}\n\n.cart-image {\n  max-height: 64px;\n}\n\n.cart-title {\n  font-size: 0.8rem;\n  margin-left: 18px;\n  line-height: 1rem;\n}\n\n.cart-count {\n  width: 100%;\n  margin-top: auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: flex-end;\n}\n\n.count {\n  width: 24px;\n  text-align: center;\n}\n\n.cart-icon {\n  width: 24px;\n  height: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: transparent;\n  border: 1px solid rgba(146, 144, 144, 0.274);\n  border-radius: 2px;\n  color: rgba(34, 34, 34, 0.657);\n  cursor: pointer;\n}\n</style>\n","<script setup>\n</script>\n\n<template>\n  <div>\n    <div class=\"modal-container\">{}</div>\n    <div class=\"modal-window\">\n      <div class=\"modalWindow-content\">\n        <div class=\"modalWindow-text\">\n          We have successfully received your order!\n          <br />\n          <br />\n          <span>\n            Redirecting to homepage...\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n.modal-container {\n  position: fixed;\n  box-sizing: border-box;\n  padding: 15px;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(78, 78, 78, 0.528);\n  opacity: 0.5;\n  overflow: hidden;\n  z-index: 3;\n}\n\n.modal-window {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 300px;\n  height: 250px;\n  background-color: white;\n  border-radius: 10px;\n  box-shadow: 2px 4px 20px;\n  z-index: 4;\n}\n\n.modalWindow-content {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.modalWindow-text {\n  width: 250px;\n  margin: 15px 0;\n  text-align: center;\n  color: rgb(54, 53, 53);\n}\n</style>\n\n","<script setup>\nimport { ref, onUnmounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport CartItem from '../components/CartItem.vue';\nimport Modal from '../components/Modal.vue';\n\nconst products = ref([])\nconst total = ref(null)\nconst visibleModal = ref(false)\nconst router = useRouter();\n\nconst loadCartItems = () => {\n  let storageProducts = JSON.parse(localStorage.getItem('cart')) || [];\n  products.value = storageProducts\n\n  total.value = storageProducts.reduce((accumulator, product) => {\n    return accumulator + (product.price * product.count);\n  }, 0).toFixed(2)\n};\nloadCartItems();\n\nconst openModal = () => {\n  visibleModal.value = true;\n  setTimeout(() => {\n    localStorage.clear();\n    router.push('/');\n  }, 3000);\n}\n\nonUnmounted(() => {\n  visibleModal.value = false;\n});\n\n</script>\n<template>\n  <div class=\"cart-page\">\n    <RouterLink\n      to=\"/\"\n      class=\"top-nav\"\n    >\n      <img\n        src=\"../assets/icons/arrow-left.svg\"\n        alt=\"\"\n      />\n      <span>Back to homepage</span>\n    </RouterLink>\n    <h1 class=\"title\">Cart</h1>\n    \n    <section\n      class=\"cart-list\"\n      v-if=\"products.length\"\n    >\n      <CartItem\n        @updateCardList=\"loadCartItems\"\n        class=\"card-item\"\n        v-for=\"product of products\"\n        :product=\"product\"\n        :key=\"product.id\"\n      />\n    </section>\n\n    <section v-else>\n      <h3> There is nothing to show</h3>\n    </section>\n\n    <section\n      class=\"total-area\"\n      v-if=\"total > 0\"\n    >\n      <h4><span class=\"total-text\">Total:</span> {{ total }} $</h4>\n      <button @click=\"openModal\" class=\"buy-button\">Chechout</button>\n    </section>\n  </div>\n\n  <Modal v-if=\"visibleModal\"></Modal>\n</template>\n\n<style>\n\n.modal-container {\n  position: fixed;\n  box-sizing: border-box;\n  padding: 15px;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(78, 78, 78, 0.528);\n  opacity: 0.5;\n  overflow: hidden;\n  z-index: 3;\n}\n\n.modal-window {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 300px;\n  height: 250px;\n  background-color: white;\n  border-radius: 10px;\n  box-shadow: 2px 4px 20px;\n  z-index: 4;\n}\n\n.modalWindow-content {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.modalWindow-text {\n  width: 250px;\n  margin: 15px 0;\n  text-align: center;\n  color: rgb(54, 53, 53);\n}\n\n.buy-button {\n  margin-top: 12px;\n  padding: 12px 20px;\n  line-height: 40px;\n  background-color: transparent;\n  max-width: 600px;\n  font-size: 1.2rem;\n  color: rgb(61, 61, 61);\n  border: 2px solid rgba(146, 144, 144, 0.274);\n  border-radius: 30px;\n  transition: 0.3s ease;\n}\n\n.buy-button:hover {\n  transform: scale(1.1);\n  background-color: rgba(175, 203, 175, 0.407);\n  border-color: rgba(175, 203, 175, 0.407);\n}\n\n.total-area {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 40px;\n  padding-top: 20px;\n  font-size: 1.7rem;\n  border-top: 1px solid rgba(105, 106, 106, 0.31);\n}\n\n.total-text {\n  font-size: 1.3rem;\n  margin-right: 6px;\n}\n\n.cart-list {\n  box-sizing: border-box;\n  padding: 6px;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  gap: 10px;\n  max-height: calc(100vh / 2);\n  border: 1px solid rgba(145, 146, 146, 0.31);\n  overflow-y: auto;\n}\n\n.cart-page {\n  width: 100vw;\n  height: calc(100vh - 240px); \n  padding: 20px;\n}\n\n.title {\n  text-align: center;\n  color: rgb(75, 74, 74);\n  margin: 0 0 30px;\n}\n\n.cart {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));\n  gap: 10px;\n}\n\n.top-nav {\n  display: flex;\n  align-items: center;\n  color: rgb(154, 154, 154);\n  font-size: 0.8rem;\n}\n</style>\n\n"],"names":["_imports_0","_imports_1","getCardItems","updateCard","data","item","emit","changeItemQuantity","type","updatedCartItems","props","_createElementVNode","_createTextVNode","_hoisted_3","_hoisted_1","_cache","products","ref","total","visibleModal","router","useRouter","loadCartItems","storageProducts","accumulator","product","openModal","onUnmounted"],"mappings":"4MAAA,MAAeA,EAAA,GAAA,IAAA,IAAA,oBAAA,YAAA,GAAA,EAAA,KCAAC,EAAA,GAAA,IAAA,IAAA,qBAAA,YAAA,GAAA,EAAA,6WCKTC,EAAe,IAAM,KAAK,MAAM,aAAa,QAAQ,MAAM,CAAC,GAAK,CAAE,EAEnEC,EAAaC,GAAQ,CACzB,aAAa,QAAQ,OAAQ,KAAK,UAAUA,EAAK,OAAQC,GAAS,CAACA,EAAK,OAAS,CAAC,CAAC,CAAC,EACpFC,EAAK,gBAAgB,CACvB,EACMC,EAAsBC,GAAS,CACnC,IAAIC,EAAmBP,EAAY,EAAG,IAAKG,IACrCA,EAAK,KAAOK,EAAM,QAAQ,KACxBF,IAAS,aACXH,EAAK,QAEHG,IAAS,aACXH,EAAK,SAGFA,EACR,EACDF,EAAWM,CAAgB,CAC7B,gcClBIE,EAWM,MAAA,CAXD,MAAM,mBAAc,KAAA,EAAA,IAUjBA,EAT0B,MAAA,CAAA,MAAA,cAAA,EAAA,GAQxB,MAAA,CAAA,MAPI,qBAAmB,EAAA,GAE3B,MAAA,CAAA,MAAA,kBAAA,EAAA,CAAAC,EAAM,6CAAA,EACND,EAAM,IAAA,EACNA,EAEO,6DATwBE,EAAA,CACrCC,kBAYIC,EAAA,4YCZR,MAAMC,EAAWC,EAAI,EAAE,EACjBC,EAAQD,EAAI,IAAI,EAChBE,EAAeF,EAAI,EAAK,EACxBG,EAASC,EAAS,EAElBC,EAAgB,IAAM,CAC1B,IAAIC,EAAkB,KAAK,MAAM,aAAa,QAAQ,MAAM,CAAC,GAAK,GAClEP,EAAS,MAAQO,EAEjBL,EAAM,MAAQK,EAAgB,OAAO,CAACC,EAAaC,IAC1CD,EAAeC,EAAQ,MAAQA,EAAQ,MAC7C,CAAC,EAAE,QAAQ,CAAC,CACjB,EACAH,IAEA,MAAMI,EAAY,IAAM,CACtBP,EAAa,MAAQ,GACrB,WAAW,IAAM,CACf,aAAa,MAAK,EAClBC,EAAO,KAAK,GAAG,CAChB,EAAE,GAAI,CACT,EAEA,OAAAO,EAAY,IAAM,CAChBR,EAAa,MAAQ,EACvB,CAAC"}